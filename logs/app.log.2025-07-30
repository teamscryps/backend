
{"timestamp": "2025-07-30 10:57:02,036", "level": "INFO", "action": "fetch_dashboard_data", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "f807870c-7b57-44a9-9e77-979b413ebf16", "context": "{"method": "GET", "url": "http://localhost:8000/api/v1/dashboard/dashboard", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 10:57:02,038", "level": "ERROR", "action": "fetch_dashboard_data_failed", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "f807870c-7b57-44a9-9e77-979b413ebf16", "context": "{"error": "name 'selectinload' is not defined", "stack_trace": "  File \"/Users/apple/Desktop/backend/endpoints/dashboard.py\", line 149, in get_dashboard_data\n    selectinload(Trade.order)\n    ^^^^^^^^^^^^\n"}"}
{"timestamp": "2025-07-30 10:59:54,377", "level": "INFO", "action": "activate_brokerage", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "cfb60946-8998-450b-b422-18680f1b1913", "context": "{"brokerage": "zerodha", "method": "POST", "url": "http://localhost:8000/api/v1/dashboard/activate-brokerage", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 10:59:54,520", "level": "ERROR", "action": "zerodha_session_creation_failed", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "cfb60946-8998-450b-b422-18680f1b1913", "context": "{"broker": "zerodha", "status_code": 403, "error": "Status: 403", "stack_trace": ""}"}
{"timestamp": "2025-07-30 10:59:54,521", "level": "ERROR", "action": "brokerage_activation_failed", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "cfb60946-8998-450b-b422-18680f1b1913", "context": "{"broker": "zerodha", "error": "400: Failed to validate Zerodha credentials", "stack_trace": "  File \"/Users/apple/Desktop/backend/endpoints/dashboard.py\", line 308, in activate_brokerage\n    raise HTTPException(status_code=400, detail=\"Failed to validate Zerodha credentials\")\n"}"}
{"timestamp": "2025-07-30 11:00:00,337", "level": "INFO", "action": "activate_brokerage", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "966af302-826a-494e-931e-4d6d0cded396", "context": "{"brokerage": "groww", "method": "POST", "url": "http://localhost:8000/api/v1/dashboard/activate-brokerage", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 11:00:00,353", "level": "ERROR", "action": "brokerage_activation_failed", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "966af302-826a-494e-931e-4d6d0cded396", "context": "{"broker": "groww", "error": "Invalid type for url.  Expected str or httpx.URL, got <class 'pydantic.networks.HttpUrl'>: HttpUrl('https://api.groww.in/')", "stack_trace": "  File \"/Users/apple/Desktop/backend/endpoints/dashboard.py\", line 327, in activate_brokerage\n    response = await client.post(\n               ^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/httpx/_client.py\", line 1892, in post\n    return await self.request(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/httpx/_client.py\", line 1561, in request\n    request = self.build_request(\n              ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/httpx/_client.py\", line 345, in build_request\n    url = self._merge_url(url)\n          ^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/httpx/_client.py\", line 375, in _merge_url\n    merge_url = URL(url)\n                ^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/httpx/_urls.py\", line 119, in __init__\n    raise TypeError(\n"}"}
{"timestamp": "2025-07-30 11:00:13,604", "level": "INFO", "action": "activate_brokerage", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "2fc6d9ba-b3dc-4c5e-ae9c-e50b5e139dd5", "context": "{"brokerage": "groww", "method": "POST", "url": "http://localhost:8000/api/v1/dashboard/activate-brokerage", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 11:00:13,725", "level": "ERROR", "action": "groww_session_creation_failed", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "2fc6d9ba-b3dc-4c5e-ae9c-e50b5e139dd5", "context": "{"broker": "groww", "status_code": 404, "error": "Status: 404", "stack_trace": ""}"}
{"timestamp": "2025-07-30 11:00:13,725", "level": "ERROR", "action": "brokerage_activation_failed", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "2fc6d9ba-b3dc-4c5e-ae9c-e50b5e139dd5", "context": "{"broker": "groww", "error": "400: Failed to validate Groww credentials", "stack_trace": "  File \"/Users/apple/Desktop/backend/endpoints/dashboard.py\", line 334, in activate_brokerage\n    raise HTTPException(status_code=400, detail=\"Failed to validate Groww credentials\")\n"}"}
{"timestamp": "2025-07-30 11:00:17,629", "level": "INFO", "action": "view_trade", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "802d0fad-ce44-4841-abde-ee7559083458", "context": "{"trade_id": 1, "method": "GET", "url": "http://localhost:8000/api/v1/dashboard/trade/1", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 11:00:17,629", "level": "ERROR", "action": "view_trade_failed", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "802d0fad-ce44-4841-abde-ee7559083458", "context": "{"trade_id": 1, "error": "name 'selectinload' is not defined", "stack_trace": "  File \"/Users/apple/Desktop/backend/endpoints/dashboard.py\", line 370, in get_trade\n    trade = db.query(Trade).options(selectinload(Trade.order)).filter(Trade.id == trade_id, Trade.user_id == current_user.id).first()\n                                    ^^^^^^^^^^^^\n"}"}
{"timestamp": "2025-07-30 11:00:32,296", "level": "INFO", "action": "view_trade", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "aacb0776-ba36-4b45-8640-626bbf966421", "context": "{"trade_id": 1, "method": "GET", "url": "http://localhost:8000/api/v1/dashboard/trade/1", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 11:00:32,297", "level": "ERROR", "action": "view_trade_failed", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "aacb0776-ba36-4b45-8640-626bbf966421", "context": "{"trade_id": 1, "error": "type object 'Trade' has no attribute 'user_id'", "stack_trace": "  File \"/Users/apple/Desktop/backend/endpoints/dashboard.py\", line 370, in get_trade\n    trade = db.query(Trade).options(selectinload(Trade.order)).filter(Trade.id == trade_id, Trade.user_id == current_user.id).first()\n                                                                                            ^^^^^^^^^^^^^\n"}"}
{"timestamp": "2025-07-30 11:01:03,397", "level": "INFO", "action": "view_trade", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "9a72cfc8-a571-45e5-b545-3fda523275f1", "context": "{"trade_id": 1, "method": "GET", "url": "http://localhost:8000/api/v1/dashboard/trade/1", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 11:01:03,402", "level": "ERROR", "action": "trade_not_found", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "9a72cfc8-a571-45e5-b545-3fda523275f1", "context": "{"trade_id": 1, "error": "Trade not found", "stack_trace": ""}"}
{"timestamp": "2025-07-30 11:01:03,402", "level": "ERROR", "action": "view_trade_failed", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "9a72cfc8-a571-45e5-b545-3fda523275f1", "context": "{"trade_id": 1, "error": "404: Trade not found", "stack_trace": "  File \"/Users/apple/Desktop/backend/endpoints/dashboard.py\", line 373, in get_trade\n    raise HTTPException(status_code=404, detail=\"Trade not found\")\n"}"}
{"timestamp": "2025-07-30 11:01:08,283", "level": "INFO", "action": "place_buy_order", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "d08600d5-fcb2-44e7-89c4-d086224d448c", "context": "{"stock_ticker": "AAPL", "quantity": 10, "method": "POST", "url": "http://localhost:8000/api/v1/dashboard/order/buy", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 11:01:08,285", "level": "ERROR", "action": "broker_not_activated", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "d08600d5-fcb2-44e7-89c4-d086224d448c", "context": "{"broker": null, "error": "Broker not activated", "stack_trace": ""}"}
{"timestamp": "2025-07-30 11:01:08,285", "level": "ERROR", "action": "place_buy_order_failed", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "d08600d5-fcb2-44e7-89c4-d086224d448c", "context": "{"stock_ticker": "AAPL", "error": "400: Broker not activated", "stack_trace": "  File \"/Users/apple/Desktop/backend/endpoints/dashboard.py\", line 404, in place_buy_order\n    raise HTTPException(status_code=400, detail=\"Broker not activated\")\n"}"}
{"timestamp": "2025-07-30 11:01:13,913", "level": "INFO", "action": "place_sell_order", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "34c653e5-1253-4669-a651-9e37cb801a3f", "context": "{"stock_ticker": "AAPL", "quantity": 10, "method": "POST", "url": "http://localhost:8000/api/v1/dashboard/order/sell", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 11:01:13,914", "level": "ERROR", "action": "broker_not_activated", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "34c653e5-1253-4669-a651-9e37cb801a3f", "context": "{"broker": null, "error": "Broker not activated", "stack_trace": ""}"}
{"timestamp": "2025-07-30 11:01:13,915", "level": "ERROR", "action": "place_sell_order_failed", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "34c653e5-1253-4669-a651-9e37cb801a3f", "context": "{"stock_ticker": "AAPL", "error": "400: Broker not activated", "stack_trace": "  File \"/Users/apple/Desktop/backend/endpoints/dashboard.py\", line 487, in place_sell_order\n    raise HTTPException(status_code=400, detail=\"Broker not activated\")\n"}"}
{"timestamp": "2025-07-30 11:01:17,953", "level": "INFO", "action": "fetch_dashboard_data", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "1c3e9fe3-2f7f-4341-955f-31a15cc39fd1", "context": "{"method": "GET", "url": "http://localhost:8000/api/v1/dashboard/dashboard", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 11:01:17,966", "level": "INFO", "action": "dashboard_data_fetched", "user_id": "6", "user_email": "newuser@example.com", "correlation_id": "1c3e9fe3-2f7f-4341-955f-31a15cc39fd1", "context": "{"cached": true}"}
{"timestamp": "2025-07-30 11:04:06,301", "level": "INFO", "action": "fetch_dashboard_data", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "a168a4ef-2bd1-4632-bc83-3d7822a84696", "context": "{"method": "GET", "url": "http://localhost:8000/api/v1/dashboard/dashboard", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 11:04:06,320", "level": "INFO", "action": "dashboard_data_fetched", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "a168a4ef-2bd1-4632-bc83-3d7822a84696", "context": "{"cached": true}"}
{"timestamp": "2025-07-30 15:48:42,270", "level": "INFO", "action": "list_trades", "user_id": "8", "user_email": "testuser123@example.com", "correlation_id": "e745a816-9103-40a6-af6b-69d140befc7e", "context": "{"method": "GET", "url": "http://localhost:8000/api/v1/trade/trades", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 15:48:42,319", "level": "INFO", "action": "trades_listed", "user_id": "8", "user_email": "testuser123@example.com", "correlation_id": "e745a816-9103-40a6-af6b-69d140befc7e", "context": "{"trade_count": 0}"}
{"timestamp": "2025-07-30 15:56:13,675", "level": "INFO", "action": "fetch_dashboard_data", "user_id": "8", "user_email": "testuser123@example.com", "correlation_id": "9513dd10-4d39-4baa-8b6b-e9c314cba8f1", "context": "{"method": "GET", "url": "http://localhost:8000/api/v1/dashboard/dashboard", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 15:56:13,727", "level": "ERROR", "action": "fetch_dashboard_data_failed", "user_id": "8", "user_email": "testuser123@example.com", "correlation_id": "9513dd10-4d39-4baa-8b6b-e9c314cba8f1", "context": "{"broker": null, "error": "Error Multiple exceptions: [Errno 61] Connect call failed ('::1', 6379, 0, 0), [Errno 61] Connect call failed ('127.0.0.1', 6379) connecting to localhost:6379.", "stack_trace": "  File \"/Users/apple/Desktop/backend/endpoints/dashboard.py\", line 361, in get_dashboard_data\n    await redis_client.setex(cache_key, 300, json.dumps(cached_data))\n  File \"/Users/apple/Desktop/backend/env/lib/python3.11/site-packages/redis/asyncio/client.py\", line 672, in execute_command\n    conn = self.connection or await pool.get_connection()\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/apple/Desktop/backend/env/lib/python3.11/site-packages/redis/asyncio/connection.py\", line 1141, in get_connection\n    await self.ensure_connection(connection)\n  File \"/Users/apple/Desktop/backend/env/lib/python3.11/site-packages/redis/asyncio/connection.py\", line 1174, in ensure_connection\n    await connection.connect()\n  File \"/Users/apple/Desktop/backend/env/lib/python3.11/site-packages/redis/asyncio/connection.py\", line 296, in connect\n    await self.connect_check_health(check_health=True)\n  File \"/Users/apple/Desktop/backend/env/lib/python3.11/site-packages/redis/asyncio/connection.py\", line 310, in connect_check_health\n    raise ConnectionError(self._error_message(e))\n"}"}
{"timestamp": "2025-07-30 15:56:42,547", "level": "INFO", "action": "fetch_dashboard_data", "user_id": "8", "user_email": "testuser123@example.com", "correlation_id": "2cc80014-a784-404f-818d-18e382685e77", "context": "{"method": "GET", "url": "http://localhost:8000/api/v1/dashboard/dashboard", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 15:56:42,595", "level": "INFO", "action": "dashboard_data_fetched", "user_id": "8", "user_email": "testuser123@example.com", "correlation_id": "2cc80014-a784-404f-818d-18e382685e77", "context": "{"broker": null, "cached": false}"}
{"timestamp": "2025-07-30 15:56:47,693", "level": "INFO", "action": "list_trades", "user_id": "8", "user_email": "testuser123@example.com", "correlation_id": "be5d17d8-290d-4c94-a6ea-297c43cd9223", "context": "{"method": "GET", "url": "http://localhost:8000/api/v1/trade/trades", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 15:56:47,700", "level": "INFO", "action": "trades_listed", "user_id": "8", "user_email": "testuser123@example.com", "correlation_id": "be5d17d8-290d-4c94-a6ea-297c43cd9223", "context": "{"trade_count": 0}"}
{"timestamp": "2025-07-30 16:03:37,411", "level": "INFO", "action": "fetch_dashboard_data", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "275b594f-db89-4f51-a5e6-670b60938bde", "context": "{"method": "GET", "url": "http://localhost:8000/api/v1/dashboard/dashboard", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 16:03:37,446", "level": "INFO", "action": "dashboard_data_fetched", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "275b594f-db89-4f51-a5e6-670b60938bde", "context": "{"broker": null, "cached": false}"}
{"timestamp": "2025-07-30 16:06:51,802", "level": "INFO", "action": "activate_brokerage", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "91ec628a-7266-4e11-916f-db3ee3d5e0cf", "context": "{"brokerage": "zerodha", "method": "POST", "url": "http://localhost:8000/api/v1/dashboard/activate-brokerage", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 16:06:52,018", "level": "ERROR", "action": "zerodha_session_creation_failed", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "91ec628a-7266-4e11-916f-db3ee3d5e0cf", "context": "{"broker": "zerodha", "status_code": 403, "error": "Status: 403", "stack_trace": ""}"}
{"timestamp": "2025-07-30 16:06:52,044", "level": "ERROR", "action": "brokerage_activation_failed", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "91ec628a-7266-4e11-916f-db3ee3d5e0cf", "context": "{"broker": "zerodha", "error": "400: Failed to validate Zerodha credentials", "stack_trace": "  File \"/Users/apple/Desktop/backend/endpoints/dashboard.py\", line 416, in activate_brokerage\n    raise HTTPException(status_code=400, detail=\"Failed to validate Zerodha credentials\")\n"}"}
{"timestamp": "2025-07-30 16:07:45,371", "level": "INFO", "action": "view_trade", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "470bb316-5479-4c2a-b63c-641d393d1685", "context": "{"trade_id": 1, "method": "GET", "url": "http://localhost:8000/api/v1/dashboard/trade/1", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 16:07:45,393", "level": "ERROR", "action": "trade_not_found", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "470bb316-5479-4c2a-b63c-641d393d1685", "context": "{"trade_id": 1, "error": "Trade not found", "stack_trace": ""}"}
{"timestamp": "2025-07-30 16:07:45,400", "level": "ERROR", "action": "view_trade_failed", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "470bb316-5479-4c2a-b63c-641d393d1685", "context": "{"trade_id": 1, "error": "404: Trade not found", "stack_trace": "  File \"/Users/apple/Desktop/backend/endpoints/dashboard.py\", line 492, in get_trade\n    raise HTTPException(status_code=404, detail=\"Trade not found\")\n"}"}
{"timestamp": "2025-07-30 16:08:06,143", "level": "INFO", "action": "fetch_dashboard_data", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "078e8ab4-a048-4f28-a070-6919b92c2eae", "context": "{"method": "GET", "url": "http://localhost:8000/api/v1/dashboard/dashboard", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 16:08:06,166", "level": "INFO", "action": "dashboard_data_fetched", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "078e8ab4-a048-4f28-a070-6919b92c2eae", "context": "{"broker": null, "cached": false}"}
{"timestamp": "2025-07-30 16:10:58,235", "level": "INFO", "action": "fetch_dashboard_data", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "09419949-8df4-4c81-a26d-5f833d63ce38", "context": "{"method": "GET", "url": "http://localhost:8000/api/v1/dashboard/dashboard", "client_ip": "127.0.0.1"}"}
{"timestamp": "2025-07-30 16:10:58,295", "level": "INFO", "action": "dashboard_data_fetched", "user_id": "3", "user_email": "riturithesh66@gmail.com", "correlation_id": "09419949-8df4-4c81-a26d-5f833d63ce38", "context": "{"broker": null, "cached": false}"}
